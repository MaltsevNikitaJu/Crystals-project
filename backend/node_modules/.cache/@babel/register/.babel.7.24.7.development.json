{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const express = require('express');\nconst dotenv = require('dotenv');\nconst authRoutes = require('./routes/authRoutes');\nconst productRoutes = require('./routes/productRoutes');\ndotenv.config();\nconst app = express();\napp.use(express.json());\napp.use('/api/auth', authRoutes);\napp.use('/api/products', productRoutes);\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n  console.log(`Server running on port ${PORT}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImRvdGVudiIsImF1dGhSb3V0ZXMiLCJwcm9kdWN0Um91dGVzIiwiY29uZmlnIiwiYXBwIiwidXNlIiwianNvbiIsIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiRDpcXFNvbWVQcm9qXFxDcnlzdGFsc1Byb2plY3RcXGJhY2tlbmRcXHNyY1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBkb3RlbnYgPSByZXF1aXJlKCdkb3RlbnYnKTtcclxuY29uc3QgYXV0aFJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzL2F1dGhSb3V0ZXMnKTtcclxuY29uc3QgcHJvZHVjdFJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzL3Byb2R1Y3RSb3V0ZXMnKTtcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcblxyXG5hcHAudXNlKCcvYXBpL2F1dGgnLCBhdXRoUm91dGVzKTtcclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZXMpO1xyXG5cclxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGBTZXJ2ZXIgcnVubmluZyBvbiBwb3J0ICR7UE9SVH1gKTtcclxufSk7XHJcblxyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ2hDLE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0FBQ2pELE1BQU1HLGFBQWEsR0FBR0gsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0FBRXZEQyxNQUFNLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBRWYsTUFBTUMsR0FBRyxHQUFHTixPQUFPLENBQUMsQ0FBQztBQUNyQk0sR0FBRyxDQUFDQyxHQUFHLENBQUNQLE9BQU8sQ0FBQ1EsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUV2QkYsR0FBRyxDQUFDQyxHQUFHLENBQUMsV0FBVyxFQUFFSixVQUFVLENBQUM7QUFDaENHLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRUgsYUFBYSxDQUFDO0FBRXZDLE1BQU1LLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksSUFBSSxJQUFJO0FBRXJDSCxHQUFHLENBQUNNLE1BQU0sQ0FBQ0gsSUFBSSxFQUFFLE1BQU07RUFDckJJLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBCQUEwQkwsSUFBSSxFQUFFLENBQUM7QUFDL0MsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["express","require","dotenv","authRoutes","productRoutes","config","app","use","json","PORT","process","env","listen","console","log"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\","sources":["index.js"],"sourcesContent":["const express = require('express');\r\nconst dotenv = require('dotenv');\r\nconst authRoutes = require('./routes/authRoutes');\r\nconst productRoutes = require('./routes/productRoutes');\r\n\r\ndotenv.config();\r\n\r\nconst app = express();\r\napp.use(express.json());\r\n\r\napp.use('/api/auth', authRoutes);\r\napp.use('/api/products', productRoutes);\r\n\r\nconst PORT = process.env.PORT || 3000;\r\n\r\napp.listen(PORT, () => {\r\n  console.log(`Server running on port ${PORT}`);\r\n});\r\n\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAME,UAAU,GAAGF,OAAO,CAAC,qBAAqB,CAAC;AACjD,MAAMG,aAAa,GAAGH,OAAO,CAAC,wBAAwB,CAAC;AAEvDC,MAAM,CAACG,MAAM,CAAC,CAAC;AAEf,MAAMC,GAAG,GAAGN,OAAO,CAAC,CAAC;AACrBM,GAAG,CAACC,GAAG,CAACP,OAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AAEvBF,GAAG,CAACC,GAAG,CAAC,WAAW,EAAEJ,UAAU,CAAC;AAChCG,GAAG,CAACC,GAAG,CAAC,eAAe,EAAEH,aAAa,CAAC;AAEvC,MAAMK,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;AAErCH,GAAG,CAACM,MAAM,CAACH,IAAI,EAAE,MAAM;EACrBI,OAAO,CAACC,GAAG,CAAC,0BAA0BL,IAAI,EAAE,CAAC;AAC/C,CAAC,CAAC","ignoreList":[]}},"mtime":1719492194933},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\routes\\\\authRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const express = require('express');\nconst {\n  register,\n  login\n} = require('../controllers/authController');\nconst router = express.Router();\nrouter.post('/register', register);\nrouter.post('/login', login);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJlZ2lzdGVyIiwibG9naW4iLCJyb3V0ZXIiLCJSb3V0ZXIiLCJwb3N0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFNvbWVQcm9qXFxDcnlzdGFsc1Byb2plY3RcXGJhY2tlbmRcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImF1dGhSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUgKCdleHByZXNzJylcclxuY29uc3Qge3JlZ2lzdGVyLGxvZ2lufSA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyJylcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcclxuXHJcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLHJlZ2lzdGVyKVxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJyxsb2dpbilcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUUsU0FBUyxDQUFDO0FBQ25DLE1BQU07RUFBQ0MsUUFBUTtFQUFDQztBQUFLLENBQUMsR0FBR0YsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBRWpFLE1BQU1HLE1BQU0sR0FBR0osT0FBTyxDQUFDSyxNQUFNLENBQUMsQ0FBQztBQUUvQkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDSixRQUFRLENBQUM7QUFDakNFLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0gsS0FBSyxDQUFDO0FBRTNCSSxNQUFNLENBQUNDLE9BQU8sR0FBR0osTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["express","require","register","login","router","Router","post","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\routes\\","sources":["authRoutes.js"],"sourcesContent":["const express = require ('express')\r\nconst {register,login} = require('../controllers/authController')\r\n\r\nconst router = express.Router()\r\n\r\nrouter.post('/register',register)\r\nrouter.post('/login',login)\r\n\r\nmodule.exports = router;"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAE,SAAS,CAAC;AACnC,MAAM;EAACC,QAAQ;EAACC;AAAK,CAAC,GAAGF,OAAO,CAAC,+BAA+B,CAAC;AAEjE,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACJ,QAAQ,CAAC;AACjCE,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACH,KAAK,CAAC;AAE3BI,MAAM,CAACC,OAAO,GAAGJ,MAAM","ignoreList":[]}},"mtime":1719488881461},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\controllers\\\\authController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const bcrypt = require(\"../utils/bcrypt\");\nconst jwt = require(\"../utils/jwt\");\nconst {\n  createUser,\n  findUserByEmail\n} = require(\"../models/userModel\");\nconst register = async (req, res) => {\n  try {\n    const {\n      email,\n      password,\n      name\n    } = req.body;\n    const hashedPassword = await bcrypt.hashPassword(password);\n    const newUser = await createUser({\n      email,\n      password: hashedPassword,\n      name\n    });\n    const token = jwt.generateToken(newUser);\n    res.status(201).json({\n      user: newUser,\n      token\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: \"Ошибка при регистрации пользователя\"\n    });\n  }\n};\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const user = await findUserByEmail(email);\n    if (!user || !(await bcrypt.comparePassword(password, user.password))) {\n      return res.status(401).json({\n        error: \"Неверный логин или пароль\"\n      });\n    }\n    const token = jwt.generateToken(user);\n    res.status(200).json({\n      user,\n      token\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: \"Ошибка авторизации\"\n    });\n  }\n};\nmodule.exports = {\n  register,\n  login\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiY3J5cHQiLCJyZXF1aXJlIiwiand0IiwiY3JlYXRlVXNlciIsImZpbmRVc2VyQnlFbWFpbCIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hbWUiLCJib2R5IiwiaGFzaGVkUGFzc3dvcmQiLCJoYXNoUGFzc3dvcmQiLCJuZXdVc2VyIiwidG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwic3RhdHVzIiwianNvbiIsInVzZXIiLCJlcnJvciIsImxvZ2luIiwiY29tcGFyZVBhc3N3b3JkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFNvbWVQcm9qXFxDcnlzdGFsc1Byb2plY3RcXGJhY2tlbmRcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiYXV0aENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZShcIi4uL3V0aWxzL2JjcnlwdFwiKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZShcIi4uL3V0aWxzL2p3dFwiKTtcclxuY29uc3QgeyBjcmVhdGVVc2VyLCBmaW5kVXNlckJ5RW1haWwgfSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvdXNlck1vZGVsXCIpO1xyXG5cclxuY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIG5hbWUgfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaFBhc3N3b3JkKHBhc3N3b3JkKTtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBjcmVhdGVVc2VyKHsgZW1haWwsIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCwgbmFtZSB9KTtcclxuICAgIGNvbnN0IHRva2VuID0gand0LmdlbmVyYXRlVG9rZW4obmV3VXNlcik7XHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IHVzZXI6IG5ld1VzZXIsIHRva2VuIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcItCe0YjQuNCx0LrQsCDQv9GA0Lgg0YDQtdCz0LjRgdGC0YDQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cIiB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBsb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZmluZFVzZXJCeUVtYWlsKGVtYWlsKTtcclxuICAgIGlmICghdXNlciB8fCAhKGF3YWl0IGJjcnlwdC5jb21wYXJlUGFzc3dvcmQocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogXCLQndC10LLQtdGA0L3Ri9C5INC70L7Qs9C40L0g0LjQu9C4INC/0LDRgNC+0LvRjFwiIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdG9rZW4gPSBqd3QuZ2VuZXJhdGVUb2tlbih1c2VyKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciwgdG9rZW4gfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IFwi0J7RiNC40LHQutCwINCw0LLRgtC+0YDQuNC30LDRhtC40LhcIiB9KTtcclxuICB9XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0geyByZWdpc3RlciwgbG9naW4gfTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztBQUN6QyxNQUFNQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDbkMsTUFBTTtFQUFFRSxVQUFVO0VBQUVDO0FBQWdCLENBQUMsR0FBR0gsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0FBRXRFLE1BQU1JLFFBQVEsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNuQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxLQUFLO01BQUVDLFFBQVE7TUFBRUM7SUFBSyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTtJQUMxQyxNQUFNQyxjQUFjLEdBQUcsTUFBTVosTUFBTSxDQUFDYSxZQUFZLENBQUNKLFFBQVEsQ0FBQztJQUMxRCxNQUFNSyxPQUFPLEdBQUcsTUFBTVgsVUFBVSxDQUFDO01BQUVLLEtBQUs7TUFBRUMsUUFBUSxFQUFFRyxjQUFjO01BQUVGO0lBQUssQ0FBQyxDQUFDO0lBQzNFLE1BQU1LLEtBQUssR0FBR2IsR0FBRyxDQUFDYyxhQUFhLENBQUNGLE9BQU8sQ0FBQztJQUN4Q1AsR0FBRyxDQUFDVSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxJQUFJLEVBQUVMLE9BQU87TUFBRUM7SUFBTSxDQUFDLENBQUM7RUFDaEQsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtJQUNkYixHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVFLEtBQUssRUFBRTtJQUFzQyxDQUFDLENBQUM7RUFDeEU7QUFDRixDQUFDO0FBRUQsTUFBTUMsS0FBSyxHQUFHLE1BQUFBLENBQU9mLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ2hDLElBQUk7SUFDRixNQUFNO01BQUVDLEtBQUs7TUFBRUM7SUFBUyxDQUFDLEdBQUdILEdBQUcsQ0FBQ0ssSUFBSTtJQUNwQyxNQUFNUSxJQUFJLEdBQUcsTUFBTWYsZUFBZSxDQUFDSSxLQUFLLENBQUM7SUFDekMsSUFBSSxDQUFDVyxJQUFJLElBQUksRUFBRSxNQUFNbkIsTUFBTSxDQUFDc0IsZUFBZSxDQUFDYixRQUFRLEVBQUVVLElBQUksQ0FBQ1YsUUFBUSxDQUFDLENBQUMsRUFBRTtNQUNyRSxPQUFPRixHQUFHLENBQUNVLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVFLEtBQUssRUFBRTtNQUE0QixDQUFDLENBQUM7SUFDckU7SUFDQSxNQUFNTCxLQUFLLEdBQUdiLEdBQUcsQ0FBQ2MsYUFBYSxDQUFDRyxJQUFJLENBQUM7SUFDckNaLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsSUFBSTtNQUFFSjtJQUFNLENBQUMsQ0FBQztFQUN2QyxDQUFDLENBQUMsT0FBT0ssS0FBSyxFQUFFO0lBQ2RiLEdBQUcsQ0FBQ1UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUUsS0FBSyxFQUFFO0lBQXFCLENBQUMsQ0FBQztFQUN2RDtBQUNGLENBQUM7QUFDREcsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRW5CLFFBQVE7RUFBRWdCO0FBQU0sQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["bcrypt","require","jwt","createUser","findUserByEmail","register","req","res","email","password","name","body","hashedPassword","hashPassword","newUser","token","generateToken","status","json","user","error","login","comparePassword","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\controllers\\","sources":["authController.js"],"sourcesContent":["const bcrypt = require(\"../utils/bcrypt\");\r\nconst jwt = require(\"../utils/jwt\");\r\nconst { createUser, findUserByEmail } = require(\"../models/userModel\");\r\n\r\nconst register = async (req, res) => {\r\n  try {\r\n    const { email, password, name } = req.body;\r\n    const hashedPassword = await bcrypt.hashPassword(password);\r\n    const newUser = await createUser({ email, password: hashedPassword, name });\r\n    const token = jwt.generateToken(newUser);\r\n    res.status(201).json({ user: newUser, token });\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Ошибка при регистрации пользователя\" });\r\n  }\r\n};\r\n\r\nconst login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n    const user = await findUserByEmail(email);\r\n    if (!user || !(await bcrypt.comparePassword(password, user.password))) {\r\n      return res.status(401).json({ error: \"Неверный логин или пароль\" });\r\n    }\r\n    const token = jwt.generateToken(user);\r\n    res.status(200).json({ user, token });\r\n  } catch (error) {\r\n    res.status(500).json({ error: \"Ошибка авторизации\" });\r\n  }\r\n};\r\nmodule.exports = { register, login };\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACzC,MAAMC,GAAG,GAAGD,OAAO,CAAC,cAAc,CAAC;AACnC,MAAM;EAAEE,UAAU;EAAEC;AAAgB,CAAC,GAAGH,OAAO,CAAC,qBAAqB,CAAC;AAEtE,MAAMI,QAAQ,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAI;IACF,MAAM;MAAEC,KAAK;MAAEC,QAAQ;MAAEC;IAAK,CAAC,GAAGJ,GAAG,CAACK,IAAI;IAC1C,MAAMC,cAAc,GAAG,MAAMZ,MAAM,CAACa,YAAY,CAACJ,QAAQ,CAAC;IAC1D,MAAMK,OAAO,GAAG,MAAMX,UAAU,CAAC;MAAEK,KAAK;MAAEC,QAAQ,EAAEG,cAAc;MAAEF;IAAK,CAAC,CAAC;IAC3E,MAAMK,KAAK,GAAGb,GAAG,CAACc,aAAa,CAACF,OAAO,CAAC;IACxCP,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,IAAI,EAAEL,OAAO;MAAEC;IAAM,CAAC,CAAC;EAChD,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdb,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,KAAK,EAAE;IAAsC,CAAC,CAAC;EACxE;AACF,CAAC;AAED,MAAMC,KAAK,GAAG,MAAAA,CAAOf,GAAG,EAAEC,GAAG,KAAK;EAChC,IAAI;IACF,MAAM;MAAEC,KAAK;MAAEC;IAAS,CAAC,GAAGH,GAAG,CAACK,IAAI;IACpC,MAAMQ,IAAI,GAAG,MAAMf,eAAe,CAACI,KAAK,CAAC;IACzC,IAAI,CAACW,IAAI,IAAI,EAAE,MAAMnB,MAAM,CAACsB,eAAe,CAACb,QAAQ,EAAEU,IAAI,CAACV,QAAQ,CAAC,CAAC,EAAE;MACrE,OAAOF,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEE,KAAK,EAAE;MAA4B,CAAC,CAAC;IACrE;IACA,MAAML,KAAK,GAAGb,GAAG,CAACc,aAAa,CAACG,IAAI,CAAC;IACrCZ,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,IAAI;MAAEJ;IAAM,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdb,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEE,KAAK,EAAE;IAAqB,CAAC,CAAC;EACvD;AACF,CAAC;AACDG,MAAM,CAACC,OAAO,GAAG;EAAEnB,QAAQ;EAAEgB;AAAM,CAAC","ignoreList":[]}},"mtime":1719488741821},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\utils\\\\bcrypt.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const bcrypt = require('bcrypt');\nconst hashPassword = async password => {\n  const salt = await bcrypt.genSalt(10);\n  return await bcrypt.hash(password, salt);\n};\nconst comparePassword = async (password, hash) => {\n  return await bcrypt.compare(password, hash);\n};\nmodule.exports = {\n  hashPassword,\n  comparePassword\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJiY3J5cHQiLCJyZXF1aXJlIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJjb21wYXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXFNvbWVQcm9qXFxDcnlzdGFsc1Byb2plY3RcXGJhY2tlbmRcXHNyY1xcdXRpbHNcXCIsInNvdXJjZXMiOlsiYmNyeXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUgKCdiY3J5cHQnKTtcclxuXHJcbmNvbnN0IGhhc2hQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xyXG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKTtcclxuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCxzYWx0KVxyXG59O1xyXG5cclxuY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYXN5bmMgKHBhc3N3b3JkLGhhc2gpID0+IHtcclxuICAgIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCxoYXNoKVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgaGFzaFBhc3N3b3JkLCBjb21wYXJlUGFzc3dvcmQgfTsiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFFLFFBQVEsQ0FBQztBQUVqQyxNQUFNQyxZQUFZLEdBQUcsTUFBT0MsUUFBUSxJQUFLO0VBQ3JDLE1BQU1DLElBQUksR0FBRyxNQUFNSixNQUFNLENBQUNLLE9BQU8sQ0FBQyxFQUFFLENBQUM7RUFDckMsT0FBTyxNQUFNTCxNQUFNLENBQUNNLElBQUksQ0FBQ0gsUUFBUSxFQUFDQyxJQUFJLENBQUM7QUFDM0MsQ0FBQztBQUVELE1BQU1HLGVBQWUsR0FBRyxNQUFBQSxDQUFPSixRQUFRLEVBQUNHLElBQUksS0FBSztFQUM3QyxPQUFPLE1BQU1OLE1BQU0sQ0FBQ1EsT0FBTyxDQUFDTCxRQUFRLEVBQUNHLElBQUksQ0FBQztBQUM5QyxDQUFDO0FBRURHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUVSLFlBQVk7RUFBRUs7QUFBZ0IsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["bcrypt","require","hashPassword","password","salt","genSalt","hash","comparePassword","compare","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\utils\\","sources":["bcrypt.js"],"sourcesContent":["const bcrypt = require ('bcrypt');\r\n\r\nconst hashPassword = async (password) => {\r\n    const salt = await bcrypt.genSalt(10);\r\n    return await bcrypt.hash(password,salt)\r\n};\r\n\r\nconst comparePassword = async (password,hash) => {\r\n    return await bcrypt.compare(password,hash)\r\n}\r\n\r\nmodule.exports = { hashPassword, comparePassword };"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAE,QAAQ,CAAC;AAEjC,MAAMC,YAAY,GAAG,MAAOC,QAAQ,IAAK;EACrC,MAAMC,IAAI,GAAG,MAAMJ,MAAM,CAACK,OAAO,CAAC,EAAE,CAAC;EACrC,OAAO,MAAML,MAAM,CAACM,IAAI,CAACH,QAAQ,EAACC,IAAI,CAAC;AAC3C,CAAC;AAED,MAAMG,eAAe,GAAG,MAAAA,CAAOJ,QAAQ,EAACG,IAAI,KAAK;EAC7C,OAAO,MAAMN,MAAM,CAACQ,OAAO,CAACL,QAAQ,EAACG,IAAI,CAAC;AAC9C,CAAC;AAEDG,MAAM,CAACC,OAAO,GAAG;EAAER,YAAY;EAAEK;AAAgB,CAAC","ignoreList":[]}},"mtime":1719488902915},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\utils\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\utils\\\\jwt.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const jwt = require('jsonwebtoken');\nconst secret = process.env.JWT_SECRET;\nconst generateToken = user => {\n  return jwt.sign({\n    id: user.id,\n    email: user.email\n  }, secret, {\n    expiresIn: '1d'\n  });\n};\nconst verifyToken = token => {\n  return jwt.verify(token, secret);\n};\nmodule.exports = {\n  generateToken,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJnZW5lcmF0ZVRva2VuIiwidXNlciIsInNpZ24iLCJpZCIsImVtYWlsIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxTb21lUHJvalxcQ3J5c3RhbHNQcm9qZWN0XFxiYWNrZW5kXFxzcmNcXHV0aWxzXFwiLCJzb3VyY2VzIjpbImp3dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqd3QgPSByZXF1aXJlICgnanNvbndlYnRva2VuJylcclxuXHJcbmNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQ7XHJcblxyXG5jb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXIpID0+IHtcclxuICAgIHJldHVybiBqd3Quc2lnbih7aWQ6dXNlci5pZCxlbWFpbDp1c2VyLmVtYWlsfSxzZWNyZXQse2V4cGlyZXNJbjonMWQnfSk7XHJcbn1cclxuXHJcbmNvbnN0IHZlcmlmeVRva2VuID0gKHRva2VuKSA9PiB7XHJcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbixzZWNyZXQpXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBnZW5lcmF0ZVRva2VuLHZlcmlmeVRva2VufSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUUsY0FBYyxDQUFDO0FBRXBDLE1BQU1DLE1BQU0sR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7QUFFckMsTUFBTUMsYUFBYSxHQUFJQyxJQUFJLElBQUs7RUFDNUIsT0FBT1AsR0FBRyxDQUFDUSxJQUFJLENBQUM7SUFBQ0MsRUFBRSxFQUFDRixJQUFJLENBQUNFLEVBQUU7SUFBQ0MsS0FBSyxFQUFDSCxJQUFJLENBQUNHO0VBQUssQ0FBQyxFQUFDUixNQUFNLEVBQUM7SUFBQ1MsU0FBUyxFQUFDO0VBQUksQ0FBQyxDQUFDO0FBQzFFLENBQUM7QUFFRCxNQUFNQyxXQUFXLEdBQUlDLEtBQUssSUFBSztFQUMzQixPQUFPYixHQUFHLENBQUNjLE1BQU0sQ0FBQ0QsS0FBSyxFQUFDWCxNQUFNLENBQUM7QUFDbkMsQ0FBQztBQUVEYSxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFVixhQUFhO0VBQUNNO0FBQVcsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["jwt","require","secret","process","env","JWT_SECRET","generateToken","user","sign","id","email","expiresIn","verifyToken","token","verify","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\utils\\","sources":["jwt.js"],"sourcesContent":["const jwt = require ('jsonwebtoken')\r\n\r\nconst secret = process.env.JWT_SECRET;\r\n\r\nconst generateToken = (user) => {\r\n    return jwt.sign({id:user.id,email:user.email},secret,{expiresIn:'1d'});\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    return jwt.verify(token,secret)\r\n}\r\n\r\nmodule.exports = { generateToken,verifyToken}"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAE,cAAc,CAAC;AAEpC,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AAErC,MAAMC,aAAa,GAAIC,IAAI,IAAK;EAC5B,OAAOP,GAAG,CAACQ,IAAI,CAAC;IAACC,EAAE,EAACF,IAAI,CAACE,EAAE;IAACC,KAAK,EAACH,IAAI,CAACG;EAAK,CAAC,EAACR,MAAM,EAAC;IAACS,SAAS,EAAC;EAAI,CAAC,CAAC;AAC1E,CAAC;AAED,MAAMC,WAAW,GAAIC,KAAK,IAAK;EAC3B,OAAOb,GAAG,CAACc,MAAM,CAACD,KAAK,EAACX,MAAM,CAAC;AACnC,CAAC;AAEDa,MAAM,CAACC,OAAO,GAAG;EAAEV,aAAa;EAACM;AAAW,CAAC","ignoreList":[]}},"mtime":1719488741820},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const db = require('../db/connection');\nconst findUserByEmail = async email => {\n  return await db('users').where({\n    email\n  }).first();\n};\nconst createUser = async user => {\n  const [newUser] = await db('users').insert(user).returning('*');\n  return newUser;\n};\nmodule.exports = {\n  findUserByEmail,\n  createUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJmaW5kVXNlckJ5RW1haWwiLCJlbWFpbCIsIndoZXJlIiwiZmlyc3QiLCJjcmVhdGVVc2VyIiwidXNlciIsIm5ld1VzZXIiLCJpbnNlcnQiLCJyZXR1cm5pbmciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcU29tZVByb2pcXENyeXN0YWxzUHJvamVjdFxcYmFja2VuZFxcc3JjXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZSgnLi4vZGIvY29ubmVjdGlvbicpO1xyXG5cclxuY29uc3QgZmluZFVzZXJCeUVtYWlsID0gYXN5bmMgKGVtYWlsKSA9PiB7XHJcbiAgICByZXR1cm4gYXdhaXQgZGIoJ3VzZXJzJykud2hlcmUoeyBlbWFpbCB9KS5maXJzdCgpO1xyXG4gIH07XHJcblxyXG5jb25zdCBjcmVhdGVVc2VyID0gYXN5bmMgKHVzZXIpID0+IHtcclxuICAgIGNvbnN0IFtuZXdVc2VyXSA9IGF3YWl0IGRiKCd1c2VycycpLmluc2VydCh1c2VyKS5yZXR1cm5pbmcoJyonKTtcclxuICAgIHJldHVybiBuZXdVc2VyO1xyXG4gIH07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGZpbmRVc2VyQnlFbWFpbCxcclxuICAgIGNyZWF0ZVVzZXJcclxuICB9OyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFFdEMsTUFBTUMsZUFBZSxHQUFHLE1BQU9DLEtBQUssSUFBSztFQUNyQyxPQUFPLE1BQU1ILEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQ0ksS0FBSyxDQUFDO0lBQUVEO0VBQU0sQ0FBQyxDQUFDLENBQUNFLEtBQUssQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFFSCxNQUFNQyxVQUFVLEdBQUcsTUFBT0MsSUFBSSxJQUFLO0VBQy9CLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLEdBQUcsTUFBTVIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDUyxNQUFNLENBQUNGLElBQUksQ0FBQyxDQUFDRyxTQUFTLENBQUMsR0FBRyxDQUFDO0VBQy9ELE9BQU9GLE9BQU87QUFDaEIsQ0FBQztBQUVIRyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNiVixlQUFlO0VBQ2ZJO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["db","require","findUserByEmail","email","where","first","createUser","user","newUser","insert","returning","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\models\\","sources":["userModel.js"],"sourcesContent":["const db = require('../db/connection');\r\n\r\nconst findUserByEmail = async (email) => {\r\n    return await db('users').where({ email }).first();\r\n  };\r\n\r\nconst createUser = async (user) => {\r\n    const [newUser] = await db('users').insert(user).returning('*');\r\n    return newUser;\r\n  };\r\n\r\nmodule.exports = {\r\n    findUserByEmail,\r\n    createUser\r\n  };"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAEtC,MAAMC,eAAe,GAAG,MAAOC,KAAK,IAAK;EACrC,OAAO,MAAMH,EAAE,CAAC,OAAO,CAAC,CAACI,KAAK,CAAC;IAAED;EAAM,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC;AACnD,CAAC;AAEH,MAAMC,UAAU,GAAG,MAAOC,IAAI,IAAK;EAC/B,MAAM,CAACC,OAAO,CAAC,GAAG,MAAMR,EAAE,CAAC,OAAO,CAAC,CAACS,MAAM,CAACF,IAAI,CAAC,CAACG,SAAS,CAAC,GAAG,CAAC;EAC/D,OAAOF,OAAO;AAChB,CAAC;AAEHG,MAAM,CAACC,OAAO,GAAG;EACbV,eAAe;EACfI;AACF,CAAC","ignoreList":[]}},"mtime":1719485195420},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\db\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\db\\\\connection.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const knex = require('knex');\nconst config = require('./knexfile');\nconst environment = process.env.NODE_ENV || 'development';\nconst dbConfig = config[environment];\nconst db = knex(dbConfig);\n\n// Тестирование соединения\ndb.raw('SELECT 1').then(() => {\n  console.log('Connected to the database successfully');\n  process.exit(0);\n}).catch(err => {\n  console.error('Unable to connect to the database:', err);\n  process.exit(1);\n});\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJrbmV4IiwicmVxdWlyZSIsImNvbmZpZyIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZGJDb25maWciLCJkYiIsInJhdyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZXhpdCIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcU29tZVByb2pcXENyeXN0YWxzUHJvamVjdFxcYmFja2VuZFxcc3JjXFxkYlxcIiwic291cmNlcyI6WyJjb25uZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGtuZXggPSByZXF1aXJlKCdrbmV4Jyk7XHJcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4va25leGZpbGUnKTtcclxuXHJcbmNvbnN0IGVudmlyb25tZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50JztcclxuY29uc3QgZGJDb25maWcgPSBjb25maWdbZW52aXJvbm1lbnRdO1xyXG5cclxuY29uc3QgZGIgPSBrbmV4KGRiQ29uZmlnKTtcclxuXHJcbi8vINCi0LXRgdGC0LjRgNC+0LLQsNC90LjQtSDRgdC+0LXQtNC40L3QtdC90LjRj1xyXG5kYi5yYXcoJ1NFTEVDVCAxJylcclxuICAudGhlbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIHRoZSBkYXRhYmFzZSBzdWNjZXNzZnVsbHknKTtcclxuICAgIHByb2Nlc3MuZXhpdCgwKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOicsIGVycik7XHJcbiAgICBwcm9jZXNzLmV4aXQoMSk7XHJcbiAgfSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGRiOyJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUVwQyxNQUFNRSxXQUFXLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxRQUFRLElBQUksYUFBYTtBQUN6RCxNQUFNQyxRQUFRLEdBQUdMLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDO0FBRXBDLE1BQU1LLEVBQUUsR0FBR1IsSUFBSSxDQUFDTyxRQUFRLENBQUM7O0FBRXpCO0FBQ0FDLEVBQUUsQ0FBQ0MsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUNmQyxJQUFJLENBQUMsTUFBTTtFQUNWQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyx3Q0FBd0MsQ0FBQztFQUNyRFIsT0FBTyxDQUFDUyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyxDQUNEQyxLQUFLLENBQUNDLEdBQUcsSUFBSTtFQUNaSixPQUFPLENBQUNLLEtBQUssQ0FBQyxvQ0FBb0MsRUFBRUQsR0FBRyxDQUFDO0VBQ3hEWCxPQUFPLENBQUNTLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUpJLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVixFQUFFIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["knex","require","config","environment","process","env","NODE_ENV","dbConfig","db","raw","then","console","log","exit","catch","err","error","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\db\\","sources":["connection.js"],"sourcesContent":["const knex = require('knex');\r\nconst config = require('./knexfile');\r\n\r\nconst environment = process.env.NODE_ENV || 'development';\r\nconst dbConfig = config[environment];\r\n\r\nconst db = knex(dbConfig);\r\n\r\n// Тестирование соединения\r\ndb.raw('SELECT 1')\r\n  .then(() => {\r\n    console.log('Connected to the database successfully');\r\n    process.exit(0);\r\n  })\r\n  .catch(err => {\r\n    console.error('Unable to connect to the database:', err);\r\n    process.exit(1);\r\n  });\r\n\r\nmodule.exports = db;"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,MAAM,GAAGD,OAAO,CAAC,YAAY,CAAC;AAEpC,MAAME,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,IAAI,aAAa;AACzD,MAAMC,QAAQ,GAAGL,MAAM,CAACC,WAAW,CAAC;AAEpC,MAAMK,EAAE,GAAGR,IAAI,CAACO,QAAQ,CAAC;;AAEzB;AACAC,EAAE,CAACC,GAAG,CAAC,UAAU,CAAC,CACfC,IAAI,CAAC,MAAM;EACVC,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;EACrDR,OAAO,CAACS,IAAI,CAAC,CAAC,CAAC;AACjB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;EACZJ,OAAO,CAACK,KAAK,CAAC,oCAAoC,EAAED,GAAG,CAAC;EACxDX,OAAO,CAACS,IAAI,CAAC,CAAC,CAAC;AACjB,CAAC,CAAC;AAEJI,MAAM,CAACC,OAAO,GAAGV,EAAE","ignoreList":[]}},"mtime":1719492288133},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\db\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\db\\\\knexfile.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const dotenv = require('dotenv');\nconst path = require('path');\ndotenv.config({\n  path: path.resolve(__dirname, '../../.env')\n});\nmodule.exports = {\n  development: {\n    client: 'pg',\n    connection: {\n      host: process.env.DB_HOST,\n      user: process.env.DB_USER,\n      password: process.env.DB_PASSWORD,\n      database: process.env.DB_NAME,\n      port: process.env.DB_PORT\n    },\n    migrations: {\n      directory: './migrations'\n    },\n    seeds: {\n      directory: './seeds'\n    }\n  },\n  production: {\n    client: 'pg',\n    connection: {\n      connectionString: process.env.DATABASE_URL,\n      ssl: {\n        rejectUnauthorized: false\n      }\n    },\n    migrations: {\n      directory: './migrations'\n    },\n    seeds: {\n      directory: './seeds'\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJyZXF1aXJlIiwicGF0aCIsImNvbmZpZyIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGV2ZWxvcG1lbnQiLCJjbGllbnQiLCJjb25uZWN0aW9uIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9IT1NUIiwidXNlciIsIkRCX1VTRVIiLCJwYXNzd29yZCIsIkRCX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJEQl9OQU1FIiwicG9ydCIsIkRCX1BPUlQiLCJtaWdyYXRpb25zIiwiZGlyZWN0b3J5Iiwic2VlZHMiLCJwcm9kdWN0aW9uIiwiY29ubmVjdGlvblN0cmluZyIsIkRBVEFCQVNFX1VSTCIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCJdLCJzb3VyY2VSb290IjoiRDpcXFNvbWVQcm9qXFxDcnlzdGFsc1Byb2plY3RcXGJhY2tlbmRcXHNyY1xcZGJcXCIsInNvdXJjZXMiOlsia25leGZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcclxuZG90ZW52LmNvbmZpZyh7IHBhdGg6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8uLi8uZW52JykgfSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBkZXZlbG9wbWVudDoge1xyXG4gICAgY2xpZW50OiAncGcnLFxyXG4gICAgY29ubmVjdGlvbjoge1xyXG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NULFxyXG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5EQl9VU0VSLFxyXG4gICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuREJfUEFTU1dPUkQsXHJcbiAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxyXG4gICAgICBwb3J0OiBwcm9jZXNzLmVudi5EQl9QT1JULFxyXG4gICAgfSxcclxuICAgIG1pZ3JhdGlvbnM6IHtcclxuICAgICAgZGlyZWN0b3J5OiAnLi9taWdyYXRpb25zJ1xyXG4gICAgfSxcclxuICAgIHNlZWRzOiB7XHJcbiAgICAgIGRpcmVjdG9yeTogJy4vc2VlZHMnXHJcbiAgICB9XHJcbiAgfSxcclxuICBwcm9kdWN0aW9uOiB7XHJcbiAgICBjbGllbnQ6ICdwZycsXHJcbiAgICBjb25uZWN0aW9uOiB7XHJcbiAgICAgIGNvbm5lY3Rpb25TdHJpbmc6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCxcclxuICAgICAgc3NsOiB7IHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgfVxyXG4gICAgfSxcclxuICAgIG1pZ3JhdGlvbnM6IHtcclxuICAgICAgZGlyZWN0b3J5OiAnLi9taWdyYXRpb25zJ1xyXG4gICAgfSxcclxuICAgIHNlZWRzOiB7XHJcbiAgICAgIGRpcmVjdG9yeTogJy4vc2VlZHMnXHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUNoQyxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFDNUJELE1BQU0sQ0FBQ0csTUFBTSxDQUFDO0VBQUVELElBQUksRUFBRUEsSUFBSSxDQUFDRSxPQUFPLENBQUNDLFNBQVMsRUFBRSxZQUFZO0FBQUUsQ0FBQyxDQUFDO0FBRTlEQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmQyxXQUFXLEVBQUU7SUFDWEMsTUFBTSxFQUFFLElBQUk7SUFDWkMsVUFBVSxFQUFFO01BQ1ZDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLE9BQU87TUFDekJDLElBQUksRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLE9BQU87TUFDekJDLFFBQVEsRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLFdBQVc7TUFDakNDLFFBQVEsRUFBRVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLE9BQU87TUFDN0JDLElBQUksRUFBRVQsT0FBTyxDQUFDQyxHQUFHLENBQUNTO0lBQ3BCLENBQUM7SUFDREMsVUFBVSxFQUFFO01BQ1ZDLFNBQVMsRUFBRTtJQUNiLENBQUM7SUFDREMsS0FBSyxFQUFFO01BQ0xELFNBQVMsRUFBRTtJQUNiO0VBQ0YsQ0FBQztFQUNERSxVQUFVLEVBQUU7SUFDVmpCLE1BQU0sRUFBRSxJQUFJO0lBQ1pDLFVBQVUsRUFBRTtNQUNWaUIsZ0JBQWdCLEVBQUVmLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDZSxZQUFZO01BQzFDQyxHQUFHLEVBQUU7UUFBRUMsa0JBQWtCLEVBQUU7TUFBTTtJQUNuQyxDQUFDO0lBQ0RQLFVBQVUsRUFBRTtNQUNWQyxTQUFTLEVBQUU7SUFDYixDQUFDO0lBQ0RDLEtBQUssRUFBRTtNQUNMRCxTQUFTLEVBQUU7SUFDYjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["dotenv","require","path","config","resolve","__dirname","module","exports","development","client","connection","host","process","env","DB_HOST","user","DB_USER","password","DB_PASSWORD","database","DB_NAME","port","DB_PORT","migrations","directory","seeds","production","connectionString","DATABASE_URL","ssl","rejectUnauthorized"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\db\\","sources":["knexfile.js"],"sourcesContent":["const dotenv = require('dotenv');\r\nconst path = require('path')\r\ndotenv.config({ path: path.resolve(__dirname, '../../.env') });\r\n\r\nmodule.exports = {\r\n  development: {\r\n    client: 'pg',\r\n    connection: {\r\n      host: process.env.DB_HOST,\r\n      user: process.env.DB_USER,\r\n      password: process.env.DB_PASSWORD,\r\n      database: process.env.DB_NAME,\r\n      port: process.env.DB_PORT,\r\n    },\r\n    migrations: {\r\n      directory: './migrations'\r\n    },\r\n    seeds: {\r\n      directory: './seeds'\r\n    }\r\n  },\r\n  production: {\r\n    client: 'pg',\r\n    connection: {\r\n      connectionString: process.env.DATABASE_URL,\r\n      ssl: { rejectUnauthorized: false }\r\n    },\r\n    migrations: {\r\n      directory: './migrations'\r\n    },\r\n    seeds: {\r\n      directory: './seeds'\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5BD,MAAM,CAACG,MAAM,CAAC;EAAED,IAAI,EAAEA,IAAI,CAACE,OAAO,CAACC,SAAS,EAAE,YAAY;AAAE,CAAC,CAAC;AAE9DC,MAAM,CAACC,OAAO,GAAG;EACfC,WAAW,EAAE;IACXC,MAAM,EAAE,IAAI;IACZC,UAAU,EAAE;MACVC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,OAAO;MACzBC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG,OAAO;MACzBC,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACK,WAAW;MACjCC,QAAQ,EAAEP,OAAO,CAACC,GAAG,CAACO,OAAO;MAC7BC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS;IACpB,CAAC;IACDC,UAAU,EAAE;MACVC,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAE;MACLD,SAAS,EAAE;IACb;EACF,CAAC;EACDE,UAAU,EAAE;IACVjB,MAAM,EAAE,IAAI;IACZC,UAAU,EAAE;MACViB,gBAAgB,EAAEf,OAAO,CAACC,GAAG,CAACe,YAAY;MAC1CC,GAAG,EAAE;QAAEC,kBAAkB,EAAE;MAAM;IACnC,CAAC;IACDP,UAAU,EAAE;MACVC,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAE;MACLD,SAAS,EAAE;IACb;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1719492087531},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\routes\\\\productRoutes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const express = require('express');\nconst {\n  listProducts,\n  addProduct\n} = require('../controllers/productController');\nconst authMiddleware = require('../middlewares/authMiddleware');\nconst router = express.Router();\nrouter.get('/', listProducts);\nrouter.post('/add', authMiddleware, addProduct);\nmodule.exports = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImxpc3RQcm9kdWN0cyIsImFkZFByb2R1Y3QiLCJhdXRoTWlkZGxld2FyZSIsInJvdXRlciIsIlJvdXRlciIsImdldCIsInBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcU29tZVByb2pcXENyeXN0YWxzUHJvamVjdFxcYmFja2VuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicHJvZHVjdFJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCB7IGxpc3RQcm9kdWN0cywgYWRkUHJvZHVjdCB9ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvcHJvZHVjdENvbnRyb2xsZXInKTtcclxuY29uc3QgYXV0aE1pZGRsZXdhcmUgPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlcy9hdXRoTWlkZGxld2FyZScpO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBsaXN0UHJvZHVjdHMpO1xyXG5yb3V0ZXIucG9zdCgnL2FkZCcsIGF1dGhNaWRkbGV3YXJlLCBhZGRQcm9kdWN0KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTTtFQUFFQyxZQUFZO0VBQUVDO0FBQVcsQ0FBQyxHQUFHRixPQUFPLENBQUMsa0NBQWtDLENBQUM7QUFDaEYsTUFBTUcsY0FBYyxHQUFHSCxPQUFPLENBQUMsK0JBQStCLENBQUM7QUFFL0QsTUFBTUksTUFBTSxHQUFHTCxPQUFPLENBQUNNLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxHQUFHLEVBQUVMLFlBQVksQ0FBQztBQUM3QkcsTUFBTSxDQUFDRyxJQUFJLENBQUMsTUFBTSxFQUFFSixjQUFjLEVBQUVELFVBQVUsQ0FBQztBQUUvQ00sTUFBTSxDQUFDQyxPQUFPLEdBQUdMLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","require","listProducts","addProduct","authMiddleware","router","Router","get","post","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\routes\\","sources":["productRoutes.js"],"sourcesContent":["const express = require('express');\r\nconst { listProducts, addProduct } = require('../controllers/productController');\r\nconst authMiddleware = require('../middlewares/authMiddleware');\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', listProducts);\r\nrouter.post('/add', authMiddleware, addProduct);\r\n\r\nmodule.exports = router;\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAM;EAAEC,YAAY;EAAEC;AAAW,CAAC,GAAGF,OAAO,CAAC,kCAAkC,CAAC;AAChF,MAAMG,cAAc,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAE/D,MAAMI,MAAM,GAAGL,OAAO,CAACM,MAAM,CAAC,CAAC;AAE/BD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEL,YAAY,CAAC;AAC7BG,MAAM,CAACG,IAAI,CAAC,MAAM,EAAEJ,cAAc,EAAED,UAAU,CAAC;AAE/CM,MAAM,CAACC,OAAO,GAAGL,MAAM","ignoreList":[]}},"mtime":1719488741745},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\controllers\\\\productController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const {\n  getAllProducts,\n  createProduct\n} = require('../models/productModel');\nconst listProducts = async (req, res) => {\n  try {\n    const products = await getAllProducts();\n    res.status(200).json(products);\n  } catch (error) {\n    res.status(500).json({\n      error: 'Ошибка при загрузке продуктов'\n    });\n  }\n};\nconst addProduct = async (req, res) => {\n  try {\n    const newProduct = await createProduct(req.body);\n    res.status(201).json(newProduct);\n  } catch (error) {\n    res.status(500).json({\n      error: 'Ошибка при добавлении продукта'\n    });\n  }\n};\nmodule.exports = {\n  listProducts,\n  addProduct\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRBbGxQcm9kdWN0cyIsImNyZWF0ZVByb2R1Y3QiLCJyZXF1aXJlIiwibGlzdFByb2R1Y3RzIiwicmVxIiwicmVzIiwicHJvZHVjdHMiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJhZGRQcm9kdWN0IiwibmV3UHJvZHVjdCIsImJvZHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcU29tZVByb2pcXENyeXN0YWxzUHJvamVjdFxcYmFja2VuZFxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJwcm9kdWN0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGdldEFsbFByb2R1Y3RzLGNyZWF0ZVByb2R1Y3R9ID0gcmVxdWlyZSgnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCcpO1xyXG5cclxuY29uc3QgbGlzdFByb2R1Y3RzID0gYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IGdldEFsbFByb2R1Y3RzKCk7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdHMpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjon0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC/0YDQvtC00YPQutGC0L7Qsid9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBhZGRQcm9kdWN0ID0gYXN5bmMgKHJlcSxyZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvZHVjdCA9IGF3YWl0IGNyZWF0ZVByb2R1Y3QocmVxLmJvZHkpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld1Byb2R1Y3QpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjon0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuCDQv9GA0L7QtNGD0LrRgtCwJ30pXHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBsaXN0UHJvZHVjdHMsIGFkZFByb2R1Y3R9Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0VBQUVBLGNBQWM7RUFBQ0M7QUFBYSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztBQUV6RSxNQUFNQyxZQUFZLEdBQUcsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7RUFDbkMsSUFBSTtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNTixjQUFjLENBQUMsQ0FBQztJQUN2Q0ssR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0YsUUFBUSxDQUFDO0VBQ2xDLENBQUMsQ0FBQyxPQUFPRyxLQUFLLEVBQUU7SUFDWkosR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDQyxLQUFLLEVBQUM7SUFBK0IsQ0FBQyxDQUFDO0VBQ2pFO0FBQ0osQ0FBQztBQUVELE1BQU1DLFVBQVUsR0FBRyxNQUFBQSxDQUFPTixHQUFHLEVBQUNDLEdBQUcsS0FBSztFQUNsQyxJQUFJO0lBQ0EsTUFBTU0sVUFBVSxHQUFHLE1BQU1WLGFBQWEsQ0FBQ0csR0FBRyxDQUFDUSxJQUFJLENBQUM7SUFDaERQLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNHLFVBQVUsQ0FBQztFQUNwQyxDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO0lBQ1pKLEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBQ0MsS0FBSyxFQUFDO0lBQWdDLENBQUMsQ0FBQztFQUNsRTtBQUNKLENBQUM7QUFFREksTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRVgsWUFBWTtFQUFFTztBQUFVLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["getAllProducts","createProduct","require","listProducts","req","res","products","status","json","error","addProduct","newProduct","body","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\controllers\\","sources":["productController.js"],"sourcesContent":["const { getAllProducts,createProduct} = require('../models/productModel');\r\n\r\nconst listProducts = async(req,res) => {\r\n    try {\r\n        const products = await getAllProducts();\r\n        res.status(200).json(products)\r\n    } catch (error) {\r\n        res.status(500).json({error:'Ошибка при загрузке продуктов'})\r\n    }\r\n}\r\n\r\nconst addProduct = async (req,res) => {\r\n    try {\r\n        const newProduct = await createProduct(req.body);\r\n        res.status(201).json(newProduct)\r\n    } catch (error) {\r\n        res.status(500).json({error:'Ошибка при добавлении продукта'})\r\n    }\r\n}\r\n\r\nmodule.exports = { listProducts, addProduct}"],"mappings":"AAAA,MAAM;EAAEA,cAAc;EAACC;AAAa,CAAC,GAAGC,OAAO,CAAC,wBAAwB,CAAC;AAEzE,MAAMC,YAAY,GAAG,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;EACnC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMN,cAAc,CAAC,CAAC;IACvCK,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACF,QAAQ,CAAC;EAClC,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZJ,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,KAAK,EAAC;IAA+B,CAAC,CAAC;EACjE;AACJ,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAACC,GAAG,KAAK;EAClC,IAAI;IACA,MAAMM,UAAU,GAAG,MAAMV,aAAa,CAACG,GAAG,CAACQ,IAAI,CAAC;IAChDP,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACG,UAAU,CAAC;EACpC,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZJ,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,KAAK,EAAC;IAAgC,CAAC,CAAC;EAClE;AACJ,CAAC;AAEDI,MAAM,CAACC,OAAO,GAAG;EAAEX,YAAY;EAAEO;AAAU,CAAC","ignoreList":[]}},"mtime":1719488741820},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const db = require('../db/connection');\nconst getAllProducts = async () => {\n  return await db('products').select('*');\n};\nconst createProduct = async product => {\n  const [newProduct] = await db('products').insert(product).returning('*');\n  return newProduct;\n};\nmodule.exports = {\n  getAllProducts,\n  createProduct\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJnZXRBbGxQcm9kdWN0cyIsInNlbGVjdCIsImNyZWF0ZVByb2R1Y3QiLCJwcm9kdWN0IiwibmV3UHJvZHVjdCIsImluc2VydCIsInJldHVybmluZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxTb21lUHJvalxcQ3J5c3RhbHNQcm9qZWN0XFxiYWNrZW5kXFxzcmNcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0TW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuLi9kYi9jb25uZWN0aW9uJyk7XHJcblxyXG5jb25zdCBnZXRBbGxQcm9kdWN0cyA9IGFzeW5jICgpID0+IHtcclxuICAgIHJldHVybiBhd2FpdCBkYigncHJvZHVjdHMnKS5zZWxlY3QoJyonKTtcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYyAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgW25ld1Byb2R1Y3RdID0gYXdhaXQgZGIoJ3Byb2R1Y3RzJykuaW5zZXJ0KHByb2R1Y3QpLnJldHVybmluZygnKicpO1xyXG4gICAgcmV0dXJuIG5ld1Byb2R1Y3Q7XHJcbiAgfTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID17XHJcbiAgICBnZXRBbGxQcm9kdWN0cyxcclxuICAgIGNyZWF0ZVByb2R1Y3RcclxufSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFFdEMsTUFBTUMsY0FBYyxHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUMvQixPQUFPLE1BQU1GLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQ0csTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUN6QyxDQUFDO0FBRUQsTUFBTUMsYUFBYSxHQUFHLE1BQU9DLE9BQU8sSUFBSztFQUN2QyxNQUFNLENBQUNDLFVBQVUsQ0FBQyxHQUFHLE1BQU1OLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQ08sTUFBTSxDQUFDRixPQUFPLENBQUMsQ0FBQ0csU0FBUyxDQUFDLEdBQUcsQ0FBQztFQUN4RSxPQUFPRixVQUFVO0FBQ25CLENBQUM7QUFFSEcsTUFBTSxDQUFDQyxPQUFPLEdBQUU7RUFDWlIsY0FBYztFQUNkRTtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["db","require","getAllProducts","select","createProduct","product","newProduct","insert","returning","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\models\\","sources":["productModel.js"],"sourcesContent":["const db = require('../db/connection');\r\n\r\nconst getAllProducts = async () => {\r\n    return await db('products').select('*');\r\n  };\r\n  \r\n  const createProduct = async (product) => {\r\n    const [newProduct] = await db('products').insert(product).returning('*');\r\n    return newProduct;\r\n  };\r\n\r\nmodule.exports ={\r\n    getAllProducts,\r\n    createProduct\r\n}"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAEtC,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EAC/B,OAAO,MAAMF,EAAE,CAAC,UAAU,CAAC,CAACG,MAAM,CAAC,GAAG,CAAC;AACzC,CAAC;AAED,MAAMC,aAAa,GAAG,MAAOC,OAAO,IAAK;EACvC,MAAM,CAACC,UAAU,CAAC,GAAG,MAAMN,EAAE,CAAC,UAAU,CAAC,CAACO,MAAM,CAACF,OAAO,CAAC,CAACG,SAAS,CAAC,GAAG,CAAC;EACxE,OAAOF,UAAU;AACnB,CAAC;AAEHG,MAAM,CAACC,OAAO,GAAE;EACZR,cAAc;EACdE;AACJ,CAAC","ignoreList":[]}},"mtime":1719488741749},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"filename\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\\\\src\\\\middlewares\\\\authMiddleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SomeProj\\\\CrystalsProject\\\\backend\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.24.7:development":{"value":{"code":"const {\n  verifyToken\n} = require('../utils/jwt');\nconst authMiddleware = (req, res, next) => {\n  const token = req.headers.authorization;\n  if (!token) {\n    return res.status(401).json({\n      error: 'Нет токена'\n    });\n  }\n  try {\n    const decoded = verifyToken(token);\n    req.user = decoded;\n    next();\n  } catch (error) {\n    res.status(401).json({\n      error: 'Неверный токен'\n    });\n  }\n};\nmodule.exports = authMiddleware;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2ZXJpZnlUb2tlbiIsInJlcXVpcmUiLCJhdXRoTWlkZGxld2FyZSIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiZGVjb2RlZCIsInVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcU29tZVByb2pcXENyeXN0YWxzUHJvamVjdFxcYmFja2VuZFxcc3JjXFxtaWRkbGV3YXJlc1xcIiwic291cmNlcyI6WyJhdXRoTWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHZlcmlmeVRva2VuIH0gPSByZXF1aXJlKCcuLi91dGlscy9qd3QnKTtcclxuXHJcbmNvbnN0IGF1dGhNaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4gIGlmICghdG9rZW4pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAn0J3QtdGCINGC0L7QutC10L3QsCcgfSk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkZWNvZGVkID0gdmVyaWZ5VG9rZW4odG9rZW4pO1xyXG4gICAgcmVxLnVzZXIgPSBkZWNvZGVkO1xyXG4gICAgbmV4dCgpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAn0J3QtdCy0LXRgNC90YvQuSDRgtC+0LrQtdC9JyB9KTtcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGF1dGhNaWRkbGV3YXJlO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07RUFBRUE7QUFBWSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFL0MsTUFBTUMsY0FBYyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ3pDLE1BQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFPLENBQUNDLGFBQWE7RUFDdkMsSUFBSSxDQUFDRixLQUFLLEVBQUU7SUFDVixPQUFPRixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQUVDLEtBQUssRUFBRTtJQUFhLENBQUMsQ0FBQztFQUN0RDtFQUNBLElBQUk7SUFDRixNQUFNQyxPQUFPLEdBQUdaLFdBQVcsQ0FBQ00sS0FBSyxDQUFDO0lBQ2xDSCxHQUFHLENBQUNVLElBQUksR0FBR0QsT0FBTztJQUNsQlAsSUFBSSxDQUFDLENBQUM7RUFDUixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO0lBQ2RQLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFO0lBQWlCLENBQUMsQ0FBQztFQUNuRDtBQUNGLENBQUM7QUFFREcsTUFBTSxDQUFDQyxPQUFPLEdBQUdiLGNBQWMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["verifyToken","require","authMiddleware","req","res","next","token","headers","authorization","status","json","error","decoded","user","module","exports"],"sourceRoot":"D:\\SomeProj\\CrystalsProject\\backend\\src\\middlewares\\","sources":["authMiddleware.js"],"sourcesContent":["const { verifyToken } = require('../utils/jwt');\r\n\r\nconst authMiddleware = (req, res, next) => {\r\n  const token = req.headers.authorization;\r\n  if (!token) {\r\n    return res.status(401).json({ error: 'Нет токена' });\r\n  }\r\n  try {\r\n    const decoded = verifyToken(token);\r\n    req.user = decoded;\r\n    next();\r\n  } catch (error) {\r\n    res.status(401).json({ error: 'Неверный токен' });\r\n  }\r\n};\r\n\r\nmodule.exports = authMiddleware;\r\n"],"mappings":"AAAA,MAAM;EAAEA;AAAY,CAAC,GAAGC,OAAO,CAAC,cAAc,CAAC;AAE/C,MAAMC,cAAc,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACzC,MAAMC,KAAK,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EACvC,IAAI,CAACF,KAAK,EAAE;IACV,OAAOF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAa,CAAC,CAAC;EACtD;EACA,IAAI;IACF,MAAMC,OAAO,GAAGZ,WAAW,CAACM,KAAK,CAAC;IAClCH,GAAG,CAACU,IAAI,GAAGD,OAAO;IAClBP,IAAI,CAAC,CAAC;EACR,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdP,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE;IAAiB,CAAC,CAAC;EACnD;AACF,CAAC;AAEDG,MAAM,CAACC,OAAO,GAAGb,cAAc","ignoreList":[]}},"mtime":1719488741821}}